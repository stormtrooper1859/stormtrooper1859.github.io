!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=0)}([function(e,t,n){n(1),e.exports=n(3)},function(e,t,n){(function(e){const t=document.getElementById("mail"),n=30;let r=-1,o=0,i=[];function a(){let e=new d;r+=1,e.id=""+r,fetch("https://randomuser.me/api/").then(function(e){return e.json()}).then(function(t){return e.sender=new u(s(t.results[0].name.first)+" "+s(t.results[0].name.last),t.results[0].email,t.results[0].picture.large),fetch("https://api.adviceslip.com/advice")}).then(function(e){return e.json()}).then(function(r){e.data=r.slip.advice,e.topic=e.data,i.push(e),function(e){let r=h(e);r.classList.add("letter_new"),o===n&&(t.lastChild.remove(),o-=1);o+=1,t.insertAdjacentElement("afterbegin",r),setTimeout(function(){r.classList.remove("letter_new")},50)}(e)})}function s(e){return e.charAt(0).toUpperCase()+e.slice(1)}e.newMail=a;class u{constructor(e,t,n){this.name=e,this.email=t,this.avatar=n}}class d{constructor(e,t,n,r,o,c){if(this.id=e,this.sender=t,this.topic=n,this.message=r,o)this.date=o;else{let e=new Date,t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getFullYear()%100).padStart(2,"0");this.date=t+"."+n+"."+r}this.unread=c||!0}}const f=document.getElementById("tmpl");function h(e){let t=f.content.firstChild.cloneNode(!0);e.unread&&t.classList.add("letter_unread");let n="msg"+e.id;return t.querySelector(".checkbox").id="check"+e.id,t.querySelector(".letter__message-label").id=n,t.querySelector(".message__close-box-wrapper").htmlFor=n,t.querySelector(".letter__opening-label").htmlFor=n,t.querySelector(".message__inner").innerHTML=e.data,t.querySelector(".icon__char").innerText=e.sender.name[0].toUpperCase(),e.sender.avatar&&(t.querySelector(".icon__image").style=`background-image: url(${e.sender.avatar});`),t.querySelector(".letter__sender").innerText=e.sender.name,t.querySelector(".letter__topic").innerHTML=e.topic,t.querySelector(".letter__date").innerText=e.date,t}fetch("/data/mail.json").then(function(e){return e.json()}).then(function(e){for(l of(i=e,console.log(i),i))r=Math.max(r,parseInt(l.id,10));console.log(e),o=Math.min(i.length,n),t.append(...i.slice(Math.max(0,i.length-n),i.length).map(h).reverse()),a()}),document.getElementById("open-incoming").addEventListener("click",a),document.getElementById("remove-button").addEventListener("click",function(){const e=Array.from(t.querySelectorAll(".checkbox")).filter(e=>e.checked),r=new Set(e.map(e=>e.id.slice(5)));for(c of(i=i.filter(e=>!r.has(e.id)),e)){let e=c.parentNode.parentNode.parentNode;e.classList.add("letter_removed"),o-=1,setTimeout(function(){e.remove(),i.length>o&&o<n&&(o+=1,t.insertAdjacentElement("beforeend",h(i[i.length-o])))},350)}setTimeout(function(){checkall.checked=!1},350)}),document.getElementById("checkall").addEventListener("click",()=>t.querySelectorAll(".checkbox").forEach(e=>e.checked=checkall.checked))}).call(this,n(2))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){}]);